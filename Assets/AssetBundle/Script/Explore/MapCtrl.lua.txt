MapCtrl = {}

MapCtrl.Panel = nil


function MapCtrl:Init(index)
    self.Panel = CS.UnityEngine.GameObject.Find("ExUI/ExploreInUI"):GetComponent("UISubObject")
    -- 传入index
    self.Panel:GetComponent("ExploreInAnimation"):Init(index + 1)
    -- 加载所需数据（数量爆率总值、稀有爆率总值、体力总值Energy、体力当前值）
    MapModel:LoadData()
    print(MapModel.data)

    -- 添加返回委托
    self.Panel.buttons[1].onClick:AddListener(
        function()
            UICtrl:Back2MainScene()
        end
    )
end

-- 遇怪 level: Normal / Elite / Boss
function MapCtrl:Combat(level)
    local time = MapModel:InCombat()

    -- 战斗动画

    -- 定时委托
end
