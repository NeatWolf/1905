--主菜单控制器
MainMenuCtrl = {}

local selectPanel
local Panels = {}
local oPositionX

--初始化主菜单
function MainMenuCtrl:Init()
    --加载主菜单
    local prefeb = ABManager:LoadAsset('prefebs', 'ButtomPanel')
    local buttons = Loader:Load(prefeb, 'UI/Canvas_Bar/3DPanel')
    --加载所有panel，记录位置，失活，x - 1000
    for i = 0, buttons.transform.childCount - 1 do
        local panelPrefeb = ABManager:LoadAsset('prefebs', buttons.transform:GetChild(i).name)
        local panel = Loader:Load(panelPrefeb, 'UI/Canvas_Bar/3DPanel')
        --获得初始位置,local为相对于父对象轴点，
        oPositionX = panel.transform.localPosition.x
        Panels[panel.name] = panel
        panel:SetActive(false)
        panel.transform.localPosition = CS.UnityEngine.Vector3.right * (1000 + oPositionX)
    end
end

--自定义移入移出事件
function MainMenuCtrl.MouseEnter(gameObject)
    if selectPanel then
        if gameObject.name == selectPanel.name then
            return
        end
        -- x - 1000
        selectPanel:GetComponent('UIAnimation'):MoveX(oPositionX + 1000, 0.15)
        selectPanel:SetActive(false)
    end
    --入场动画
    selectPanel = Panels[gameObject.name]
    selectPanel:SetActive(true)
    selectPanel:GetComponent('UIAnimation'):MoveX(oPositionX, 0.15)
end

--控制动画播放
